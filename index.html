<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å°ç£ç¾é£ŸçŒœçŒœæ¨‚ + æŠ˜æ‰£è¨ˆç®—å™¨</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: 'Microsoft JhengHei','å¾®è»Ÿæ­£é»‘é«”',Arial,sans-serif; background:#f0f4f8; }
    .container { max-width: 900px; margin:2rem auto; padding:1rem; }
    .dialog-box { max-width:500px; margin:2rem auto; padding:1.5rem; background:#fff8f0; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.1);} 
    .question { font-size:18px; margin-bottom:15px; color:#e67e22; }
    .btn { padding:10px 20px; border:none; border-radius:5px; cursor:pointer; font-size:16px; margin:3px; }
    .btn-yes { background:#27ae60; color:white; }
    .btn-no { background:#e74c3c; color:white; }
    .btn-other { background:#f39c12; color:white; }
    .result { margin-top:20px; padding:15px; background:#e8f4f8; border-radius:5px; }
    table { width:100%; border-collapse:collapse; margin-bottom:20px; }
    th, td { border:1px solid #ddd; padding:8px; text-align:left; }
    th { background:#f39c12; color:white; }
  </style>
</head>
<body>
<div class="container">
  <h1 class="text-2xl font-bold mb-4">å…¨å®¶ / 7-ELEVEN ç‰¹åƒ¹æ™‚æ®µ</h1>
  
  <table>
    <thead>
      <tr><th>è¶…å•†</th><th>å“é …</th><th>é©ç”¨æ—¥</th><th>æ™‚æ®µ</th><th>å‚™è¨»</th></tr>
    </thead>
    <tbody>
      <tr><td>7-ELEVEN</td><td>içé£Ÿï¼ˆä¸Šåˆå ´ï¼‰</td><td>æ¯æ—¥</td><td>10:00â€“17:00</td><td>65æŠ˜</td></tr>
      <tr><td>7-ELEVEN</td><td>içé£Ÿï¼ˆæ™šé–“å ´ï¼‰</td><td>æ¯æ—¥</td><td>20:00â€“03:00</td><td>65æŠ˜</td></tr>
      <tr><td>å…¨å®¶ FamilyMart</td><td>å‹å–„æ™‚å…‰ é®®é£Ÿ</td><td>æ¯æ—¥</td><td>17:00â€“24:00</td><td>7æŠ˜</td></tr>
    </tbody>
  </table>

  <!-- æŠ˜æ‰£è¨ˆç®—å™¨ -->
  <div class="p-4 rounded-2xl shadow bg-white mb-6">
    <h2 class="font-semibold mb-3">æŠ˜æ‰£è¨ˆç®—å™¨ï¼ˆç„¡æ¢ä»¶æ¨å»ï¼‰</h2>
    <input id="price" type="number" placeholder="åŸåƒ¹" class="border px-3 py-2 rounded w-full mb-2">
    <select id="discount" class="border px-3 py-2 rounded w-full mb-2">
      <option value="0.65">65æŠ˜</option>
      <option value="0.70">7æŠ˜</option>
    </select>
    <button onclick="calc()" class="btn btn-yes">è¨ˆç®—</button>
    <p class="mt-2">æŠ˜å¾Œï¼š <span id="result">-</span> å…ƒ</p>
  </div>

  <!-- ç¾é£ŸçŒœçŒœæ¨‚ -->
  <div class="dialog-box">
    <h2>ğŸœ å°ç£ç¾é£ŸçŒœçŒœæ¨‚</h2>
    <div id="game-container">
      <div class="question" id="question-text">è«‹åœ¨å¿ƒä¸­æƒ³ä¸€ç¨®å°ç£ç¾é£Ÿï¼Œæº–å‚™å¥½å¾Œé–‹å§‹éŠæˆ²ï¼</div>
      <div class="btn-group" id="button-group">
        <button class="btn btn-yes" onclick="startGame()">é–‹å§‹éŠæˆ²</button>
      </div>
      <div class="result" id="result-box" style="display:none;"></div>
    </div>
  </div>
</div>

<script>
  // æŠ˜æ‰£è¨ˆç®—å™¨
  function calc() {
    const p = Number(document.getElementById('price').value);
    const factor = Number(document.getElementById('discount').value);
    if (!isFinite(p) || p<0) { document.getElementById('result').textContent='è«‹è¼¸å…¥æœ‰æ•ˆæ•¸å­—'; return; }
    document.getElementById('result').textContent = Math.floor(p*factor);
  }

  // ç¾é£ŸçŒœçŒœæ¨‚
  const questions = [
    "ä¸»é£Ÿæ˜¯ç±³é£¯é¡çš„å—ï¼Ÿ",
    "é€™é“èœé€šå¸¸ä½œç‚ºæ­£é¤é£Ÿç”¨å—ï¼Ÿ",
    "é€™é“èœå±¬æ–¼å°å¼é¢¨å‘³å—ï¼Ÿ"
  ];

  const foodDatabase = {
    "rice_meal_taiwanese":["æ»·è‚‰é£¯","æ§è‚‰é£¯","è±¬è…³é£¯","ä¾¿ç•¶","æµ·é®®ç²¥","çš®è›‹ç˜¦è‚‰ç²¥"],
    "rice_meal_other":["å’–å“©é£¯","é°»é­šé£¯","çŸ³é‹æ‹Œé£¯"],
    "rice_snack_taiwanese":["ç­’ä»”ç±³ç³•","æ²¹é£¯","é£¯ç³°"],
    "noodle_meal_taiwanese":["ç‰›è‚‰éºµ","æ¦¨èœè‚‰çµ²éºµ","é™½æ˜¥éºµ","æ“”ä»”éºµ","éº»é†¬éºµ","æ’éª¨é…¥éºµ","é´¨è‚‰éºµ","æ„éºµ","ç‚’éºµ"],
    "noodle_meal_other":["æ‹‰éºµ","ç¾©å¤§åˆ©éºµ"],
    "other_meal_taiwanese":["æ°´é¤ƒ","é‹è²¼","å°ç± åŒ…","åŒ…å­","è—¥ç‡‰æ’éª¨","ç«é‹"],
    "other_meal_other":["pizza","æ¼¢å ¡"],
    "other_snack_taiwanese":["è‚‰åœ“","èšµä»”ç…","è”¥æ²¹é¤…","èƒ¡æ¤’é¤…","æ½¤é¤…","å‰²åŒ…","è›‹é¤…","é¹½é…¥é›","è‡­è±†è…","é—œæ±ç…®","è»Šè¼ªé¤…"]
  };

  let currentAnswers=[],currentQuestion=0;

  function startGame(){
    currentAnswers=[]; currentQuestion=0;
    showQuestion(0);
  }

  function showQuestion(index){
    const qText=document.getElementById('question-text');
    const btnGroup=document.getElementById('button-group');
    if(index<questions.length){
      qText.textContent=`å•é¡Œ ${index+1}/${questions.length}: ${questions[index]}`;
      btnGroup.innerHTML=`<button class="btn btn-yes" onclick="answerQuestion(true)">æ˜¯</button>
                          <button class="btn btn-no" onclick="answerQuestion(false)">å¦</button>`;
    } else { showResult(); }
  }

  function answerQuestion(ans){ currentAnswers.push(ans); currentQuestion++; showQuestion(currentQuestion); }

  function showResult(){
    const stapleType = currentAnswers[0]?'rice':(currentAnswers[1]?'noodle':'other');
    const occasion = currentAnswers[1]?'meal':'snack';
    const cuisine = currentAnswers[2]?'taiwanese':'other';
    const key = `${stapleType}_${occasion}_${cuisine}`;
    const foods = foodDatabase[key] || ["ç„¡æ³•ç¢ºå®šï¼Œè«‹å†è©¦ä¸€æ¬¡ï¼"];
    const randomFood = foods[Math.floor(Math.random()*foods.length)];

    const qText=document.getElementById('question-text');
    const btnGroup=document.getElementById('button-group');
    const resBox=document.getElementById('result-box');

    qText.textContent="éŠæˆ²å®Œæˆï¼";
    btnGroup.innerHTML='';
    resBox.style.display='block';
    resBox.innerHTML=`ğŸ‰ æˆ‘çŒœæ‚¨æƒ³çš„æ˜¯ï¼š<br>
                     <a href="https://www.google.com/maps/search/${encodeURIComponent(randomFood)}" target="_blank" class="btn btn-yes">${randomFood}</a>
                     <br><button class="btn btn-other" onclick="startGame()">å†ç©ä¸€æ¬¡</button>`;
  }
</script>
</body>
</html>


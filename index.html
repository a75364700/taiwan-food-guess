<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>è¶…å•†ç‰¹åƒ¹ + æŠ˜æ‰£è¨ˆç®—å™¨ + ç¾é£ŸçŒœçŒœæ¨‚</title>
<style>
  body { 
    font-family: 'Microsoft JhengHei', sans-serif; 
    background:#f2f2f2; 
    margin:0; 
    padding:0; 
  }
  .container { 
    max-width: 1000px; 
    margin: 2rem auto; 
    padding: 1rem; 
    display: grid;
    grid-template-columns: 1fr 1.5fr;
    gap: 20px;
  }

  /* è¶…å•†ç‰¹åƒ¹å€ - ç¸®å°å¯¬åº¦ */
  .promo-section { 
    grid-column: 1;
    display: flex; 
    flex-direction: column;
    gap: 20px; 
    margin-bottom: 30px; 
  }
  .promo-card { 
    background:white; 
    padding:15px; 
    border-radius:15px; 
    box-shadow:0 5px 15px rgba(0,0,0,0.1); 
    width: 100%;
  }
  .promo-card h2 { 
    margin:0 0 10px 0; 
    font-size:18px; 
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .promo-card table { 
    width:100%; 
    border-collapse: collapse; 
    font-size:14px; 
  }
  .promo-card th, .promo-card td { 
    text-align:left; 
    padding:5px; 
    border-bottom:1px solid #ddd; 
  }
  .promo-btn { 
    padding:5px 10px; 
    background:#3498db; 
    color:white; 
    border:none; 
    border-radius:5px; 
    cursor:pointer; 
    font-size: 12px;
  }

  /* å³å´å…§å®¹å€ */
  .right-section {
    grid-column: 2;
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  /* æŠ˜æ‰£è¨ˆç®—å™¨ */
  .calc-section { 
    background:white; 
    padding:15px; 
    border-radius:15px; 
    box-shadow:0 5px 15px rgba(0,0,0,0.1); 
  }
  .calc-section input, .calc-section select { 
    width:100%; 
    padding:8px; 
    margin-top:5px; 
    margin-bottom:10px; 
    border-radius:5px; 
    border:1px solid #ccc; 
  }
  .calc-section button { 
    padding:8px 15px; 
    border:none; 
    background:#27ae60; 
    color:white; 
    border-radius:5px; 
    cursor:pointer; 
  }

  /* ç¾é£ŸçŒœçŒœæ¨‚ - æ”¹å–„æŒ‰éˆ•é–“è· */
  .dialog-box { 
    background:#fff5e6; 
    padding:20px; 
    border-radius:15px; 
    box-shadow:0 5px 20px rgba(0,0,0,0.1); 
    border:2px solid #ff9f43; 
    text-align:center; 
  }
  .dialog-box h2 { 
    margin-top:0; 
    color:#e67e22; 
  }
  .question { 
    font-size:18px; 
    margin-bottom:15px; 
  }
  .btn-group { 
    display:flex; 
    justify-content: center;
    gap: 15px; /* å¢åŠ æŒ‰éˆ•é–“è· */
    flex-wrap: wrap;
    margin-bottom:10px; 
  }
  .btn { 
    padding:12px 20px; /* å¢å¤§æŒ‰éˆ•å°ºå¯¸ */
    border:none; 
    border-radius:8px; 
    cursor:pointer; 
    font-weight:bold; 
    font-size:16px; 
    min-width: 100px; /* ç¢ºä¿æŒ‰éˆ•æœ‰æœ€å°å¯¬åº¦ */
  }
  .btn-yes { background:#27ae60; color:white; }
  .btn-no { background:#e74c3c; color:white; }
  .btn-other { background:#f39c12; color:white; }
  .result { 
    display:none; 
    margin-top:20px; 
    padding:15px; 
    background:#e8f4f8; 
    border-radius:8px; 
  }
  
  /* ç¾é£Ÿé¸é …æŒ‰éˆ•æ¨£å¼ */
  .food-options {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
    margin-top: 15px;
  }
  
  /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
  @media (max-width: 768px) {
    .container {
      grid-template-columns: 1fr;
    }
    .promo-section, .right-section {
      grid-column: 1;
    }
    .btn-group {
      flex-direction: column;
      align-items: center;
    }
    .btn {
      width: 100%;
      max-width: 250px;
    }
  }
</style>
</head>
<body>

<div class="container">

  <!-- è¶…å•†ç‰¹åƒ¹ -->
  <div class="promo-section" id="promo-section">
    <!-- JS ç”Ÿæˆ -->
  </div>

  <!-- å³å´å…§å®¹å€ -->
  <div class="right-section">
    <!-- æŠ˜æ‰£è¨ˆç®—å™¨ -->
    <div class="calc-section">
      <h3>æŠ˜æ‰£è¨ˆç®—å™¨ï¼ˆç„¡æ¢ä»¶æ¨å»æ•´æ•¸ï¼‰</h3>
      <label>åŸåƒ¹ï¼ˆæ•¸å­—ï¼‰</label>
      <input id="price" type="number" min="0" placeholder="è¼¸å…¥é‡‘é¡ï¼Œä¾‹å¦‚120.5">
      <label>é¸æ“‡æŠ˜æ‰£</label>
      <select id="discount">
        <option value="0.65">65 æŠ˜</option>
        <option value="0.70">7 æŠ˜</option>
      </select>
      <button onclick="calc()">è¨ˆç®—</button>
      <p>æŠ˜å¾Œåƒ¹æ ¼ï¼š<span id="result">-</span> å…ƒ</p>
    </div>

    <!-- ç¾é£ŸçŒœçŒœæ¨‚ -->
    <div class="dialog-box">
      <h2>ğŸœ ä»Šå¤©æƒ³åƒç”šéº¼</h2>
      <div id="game-container">
        <div class="question" id="question-text">æº–å‚™å¥½å¾Œé–‹å§‹éŠæˆ²ï¼</div>
        <div class="btn-group" id="button-group">
          <button class="btn btn-yes" onclick="startGame()">é–‹å§‹éŠæˆ²</button>
        </div>
        <div class="result" id="result-box"></div>
      </div>
    </div>
  </div>

</div>

<script>
  // ===== è¶…å•†ç‰¹åƒ¹ JS =====
  const PROMOS = [
    { chain:"7-ELEVEN", items:[ {name:"içé£Ÿï¼ˆä¸Šåˆå ´ï¼‰", days:"æ¯æ—¥", time:"10:00â€“17:00", remark:"65æŠ˜"}, {name:"içé£Ÿï¼ˆæ™šé–“å ´ï¼‰", days:"æ¯æ—¥", time:"20:00â€“03:00", remark:"65æŠ˜"} ] },
    { chain:"å…¨å®¶ FamilyMart", items:[ {name:"å‹å–„æ™‚å…‰ é®®é£Ÿ", days:"æ¯æ—¥", time:"17:00â€“24:00", remark:"7æŠ˜"} ] }
  ];

  const promoSection = document.getElementById('promo-section');
  PROMOS.forEach(shop => {
    const div = document.createElement('div');
    div.className = 'promo-card';
    let html = `<h2>${shop.chain} <button class="promo-btn" onclick="openMaps('${shop.chain.includes('7')?'7-ELEVEN':'å…¨å®¶ ä¾¿åˆ©å•†åº—'}')">é™„è¿‘é–€å¸‚</button></h2>`;
    html += `<table><thead><tr><th>å“é …</th><th>é©ç”¨æ—¥</th><th>æ™‚æ®µ</th><th>å‚™è¨»</th></tr></thead><tbody>`;
    shop.items.forEach(it => { html += `<tr><td>${it.name}</td><td>${it.days}</td><td>${it.time}</td><td>${it.remark}</td></tr>`; });
    html += `</tbody></table>`;
    div.innerHTML = html;
    promoSection.appendChild(div);
  });

  function openMaps(keyword){
    const q = encodeURIComponent(keyword);
    if(navigator.geolocation){
      navigator.geolocation.getCurrentPosition(
        pos=>window.open(`https://www.google.com/maps/search/${q}/@${pos.coords.latitude},${pos.coords.longitude},15z`,'_blank'),
        ()=>window.open(`https://www.google.com/maps/search/${q}`,'_blank'),
        {enableHighAccuracy:true,timeout:8000}
      );
    } else { window.open(`https://www.google.com/maps/search/${q}`,'_blank'); }
  }

  // ===== æŠ˜æ‰£è¨ˆç®—å™¨ JS =====
  function calc(){
    const p = Number(document.getElementById('price').value);
    const f = Number(document.getElementById('discount').value);
    if(!isFinite(p)||p<0){document.getElementById('result').textContent='è«‹è¼¸å…¥æœ‰æ•ˆæ•¸å­—'; return;}
    document.getElementById('result').textContent = Math.floor(p*f);
  }

  // ===== ç¾é£ŸçŒœçŒœæ¨‚ JS =====
  const questions = [
    "ä¸»é£Ÿæ˜¯ç±³é£¯é¡çš„å—ï¼Ÿ",
    "é€™é“èœé€šå¸¸ä½œç‚ºæ­£é¤é£Ÿç”¨å—ï¼Ÿ",
    "é€™é“èœå±¬æ–¼å°å¼é¢¨å‘³å—ï¼Ÿ"
  ];
  const foodDatabase = {
    "rice_meal_taiwanese":["æ»·è‚‰é£¯","æ§è‚‰é£¯","è±¬è…³é£¯","ä¾¿ç•¶","æµ·é®®ç²¥","çš®è›‹ç˜¦è‚‰ç²¥"],
    "rice_meal_other":["å’–å“©é£¯","é°»é­šé£¯","çŸ³é‹æ‹Œé£¯"],
    "rice_snack_taiwanese":["ç­’ä»”ç±³ç³•","æ²¹é£¯","é£¯ç³°"],
    "noodle_meal_taiwanese":["ç‰›è‚‰éºµ","æ¦¨èœè‚‰çµ²éºµ","é™½æ˜¥éºµ","æ“”ä»”éºµ","éº»é†¬éºµ"],
    "noodle_meal_other":["æ‹‰éºµ","ç¾©å¤§åˆ©éºµ"],
    "other_snack_taiwanese":["è‚‰åœ“","èšµä»”ç…","è”¥æ²¹é¤…","èƒ¡æ¤’é¤…","æ½¤é¤…","è›‹é¤…","é¹½é…¥é›"]
  };

  let currentAnswers=[], currentQuestion=0;

  function startGame(){ 
    currentAnswers=[]; 
    currentQuestion=0; 
    showQuestion(0); 
    document.getElementById('result-box').style.display='none'; 
  }

  function showQuestion(index){
    const qText=document.getElementById('question-text');
    const btnGroup=document.getElementById('button-group');
    if(index<questions.length){
      qText.textContent=`å•é¡Œ ${index+1}/${questions.length}: ${questions[index]}`;
      btnGroup.innerHTML=`<button class="btn btn-yes" onclick="answerQuestion(true)">æ˜¯</button>
                          <button class="btn btn-no" onclick="answerQuestion(false)">å¦</button>`;
    } else { 
      showResult(); 
    }
  }

  function answerQuestion(ans){
    currentAnswers.push(ans); 
    currentQuestion++; 
    showQuestion(currentQuestion);
  }

  function showResult(){
    const stapleType=currentAnswers[0]?'rice':'other';
    const occasion=currentAnswers[1]?'meal':'snack';
    const cuisine=currentAnswers[2]?'taiwanese':'other';
    const key=`${stapleType}_${occasion}_${cuisine}`;
    const foods=foodDatabase[key]||["ç„¡æ³•ç¢ºå®šï¼Œè«‹å†è©¦ä¸€æ¬¡ï¼"];
    const resDiv=document.getElementById('result-box');
    const qText=document.getElementById('question-text');
    qText.textContent="çŒœæ¸¬çµæœ ğŸ‰";
    resDiv.style.display='block';
    
    // å‰µå»ºç¾é£Ÿé¸é …æŒ‰éˆ•
    let foodButtons = '';
    foods.forEach(food => {
      foodButtons += `<button class="btn btn-other" onclick="openMaps('${food}')">${food}</button>`;
    });
    
    resDiv.innerHTML = `
      <p>æ‚¨å¿ƒä¸­æƒ³çš„æ˜¯ä»¥ä¸‹å…¶ä¸­ä¸€ç¨®ç¾é£Ÿå—ï¼Ÿ</p>
      <div class="food-options">
        ${foodButtons}
      </div>
      <button class="btn btn-yes" onclick="startGame()" style="margin-top: 15px;">å†ç©ä¸€æ¬¡</button>
    `;
    
    document.getElementById('button-group').innerHTML='';
  }
</script>

</body>
</html>
</html>



